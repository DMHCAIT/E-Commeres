exports.id=398,exports.ids=[398],exports.modules={10398:(e,t,r)=>{"use strict";let n,o;function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[W]}function s(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Y}(e)||Array.isArray(e)||!!e[$]||!!(null===(t=e.constructor)||void 0===t?void 0:t[$])||p(e)||v(e))}function c(e,t,r){void 0===r&&(r=!1),0===u(e)?(r?Object.keys:J)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function u(e){var t=e[W];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:v(e)?3:0}function l(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return 2===u(e)?e.get(t):e[t]}function f(e,t,r){var n=u(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function p(e){return q&&e instanceof Map}function v(e){return H&&e instanceof Set}function h(e){return e.o||e.t}function y(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=V(e);delete t[W];for(var r=J(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),m(e)||a(e)||!s(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=b),Object.freeze(e),t&&c(e,function(e,t){return g(t,!0)},!0)),e}function b(){i(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function O(e){var t=K[e];return t||i(18,e),t}r.d(t,{ML:()=>t8,W_:()=>tP,RQ:()=>tT,jE:()=>tR,Zo:()=>tO});function j(e,t){t&&(O("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){w(e),e.p.forEach(_),e.p=null}function w(e){e===z&&(z=e.l)}function x(e){return z={p:[],l:z,h:e,m:!0,_:0}}function _(e){var t=e[W];0===t.i||1===t.i?t.j():t.g=!0}function N(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||O("ES5").S(t,e,n),n?(r[W].P&&(E(t),i(4)),s(e)&&(e=P(t,e),t.l||A(t,e)),t.u&&O("Patches").M(r[W].t,e,t.u,t.s)):e=P(t,r,[]),E(t),t.u&&t.v(t.u,t.s),e!==U?e:void 0}function P(e,t,r){if(m(t))return t;var n=t[W];if(!n)return c(t,function(o,i){return S(e,n,t,o,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return A(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=y(n.k):n.o,i=o,a=!1;3===n.i&&(i=new Set(o),o.clear(),a=!0),c(i,function(t,i){return S(e,n,o,t,i,r,a)}),A(e,o,!1),r&&e.u&&O("Patches").N(n,r,e.u,e.s)}return n.o}function S(e,t,r,n,o,i,c){if(a(o)){var u=P(e,o,i&&t&&3!==t.i&&!l(t.R,n)?i.concat(n):void 0);if(f(r,n,u),!a(u))return;e.m=!1}else c&&r.add(o);if(s(o)&&!m(o)){if(!e.h.D&&e._<1)return;P(e,o),t&&t.A.l||A(e,o)}}function A(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&g(t,r)}function k(e,t){var r=e[W];return(r?h(r):e)[t]}function T(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function C(e){e.P||(e.P=!0,e.l&&C(e.l))}function R(e){e.o||(e.o=y(e.t))}function I(e,t,r){var n,o,i,a,s,c,u,l=p(t)?O("MapSet").F(t,r):v(t)?O("MapSet").T(t,r):e.O?(i=o={i:(n=Array.isArray(t))?1:0,A:r?r.A:z,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},a=X,n&&(i=[o],a=Q),c=(s=Proxy.revocable(i,a)).revoke,u=s.proxy,o.k=u,o.j=c,u):O("ES5").J(t,r);return(r?r.A:z).p.push(l),l}function D(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return y(e)}var M,L,z,F="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,H="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,U=F?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),$=F?Symbol.for("immer-draftable"):"__$immer_draftable",W=F?Symbol.for("immer-state"):"__$immer_state",G="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Y=""+Object.prototype.constructor,J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,V=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},K={},X={get:function(e,t){if(t===W)return e;var r,n,o=h(e);if(!l(o,t))return(n=T(o,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var i=o[t];return e.I||!s(i)?i:i===k(e.t,t)?(R(e),e.o[t]=I(e.A.h,i,e)):i},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){var n=T(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=k(h(e),t),i=null==o?void 0:o[W];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if((r===o?0!==r||1/r==1/o:r!=r&&o!=o)&&(void 0!==r||l(e.t,t)))return!0;R(e),C(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.R[t]=!1,R(e),C(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},Q={};c(X,function(e,t){Q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Q.deleteProperty=function(e,t){return Q.set.call(this,e,t,void 0)},Q.set=function(e,t,r){return X.set.call(this,e[0],t,r,e[0])};var Z=new(function(){function e(e){var t=this;this.O=B,this.D=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o,a=r;return r=e,function(e){var n=this;void 0===e&&(e=a);for(var o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(i))})}}if("function"!=typeof r&&i(6),void 0!==n&&"function"!=typeof n&&i(7),s(e)){var c=x(t),u=I(t,e,void 0),l=!0;try{o=r(u),l=!1}finally{l?E(c):w(c)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return j(c,n),N(e,c)},function(e){throw E(c),e}):(j(c,n),N(o,c))}if(!e||"object"!=typeof e){if(void 0===(o=r(e))&&(o=e),o===U&&(o=void 0),t.D&&g(o,!0),n){var d=[],f=[];O("Patches").M(e,o,d,f),n(d,f)}return o}i(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(o))})};var n,o,i=t.produce(e,r,function(e,t){n=e,o=t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return[e,n,o]}):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){s(e)||i(8),a(e)&&(a(t=e)||i(22,t),e=function e(t){if(!s(t))return t;var r,n=t[W],o=u(t);if(n){if(!n.P&&(n.i<4||!O("ES5").K(n)))return n.t;n.I=!0,r=D(t,o),n.I=!1}else r=D(t,o);return c(r,function(t,o){n&&d(n.t,t)===o||f(r,t,e(o))}),3===o?new Set(r):r}(t));var t,r=x(this),n=I(this,e,void 0);return n[W].C=!0,w(r),n},t.finishDraft=function(e,t){var r=(e&&e[W]).A;return j(r,t),N(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!B&&i(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=O("Patches").$;return a(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),ee=Z.produce,et=Z.produceWithPatches.bind(Z),er=(Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z));Z.createDraft.bind(Z),Z.finishDraft.bind(Z);var en=r(59984),eo=r.n(en),ei=r(28964),ea=r.n(ei),es=r(43128),ec=r.n(es),eu=r(84770);let el=e=>{!n||n.length<e?(n=Buffer.allocUnsafe(128*e),eu.randomFillSync(n),o=0):o+e>n.length&&(eu.randomFillSync(n),o=0),o+=e},ed=(e=21)=>{el(e|=0);let t="";for(let r=o-e;r<o;r++)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[r]];return t};function ef(e,t){if(!e)throw Error("Invariant failed")}var ep=r(46817),ev=r.n(ep);"undefined"!=typeof window&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/utils"]="0.2.5");var eh="ROOT",ey="canvas-ROOT",eg="Node does not exist, it may have been removed",eb="Cannot move node that is not a direct child of a Canvas node",em="A top-level Node cannot be moved",eO="The component type specified for this node (%node_type%) does not exist in the resolver";function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){eN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ew(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ez(n.key),n)}}function e_(e,t,r){return t&&ex(e.prototype,t),r&&ex(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eN(e,t,r){return(t=ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eS(e,t){return(eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eA(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){return(ek="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eP(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function eT(e,t){return eR(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||eD(e,t)||eL()}function eC(e){return function(e){if(Array.isArray(e))return eM(e)}(e)||eI(e)||eD(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eR(e){if(Array.isArray(e))return e}function eI(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function eD(e,t){if(e){if("string"==typeof e)return eM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eM(e,t):void 0}}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eL(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ez(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var eF={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR"},eq=function(){function e(){ew(this,e),eN(this,"timeline",[]),eN(this,"pointer",-1)}return e_(e,[{key:"add",value:function(e,t){0===e.length&&0===t.length||(this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:e,inversePatches:t,timestamp:Date.now()})}},{key:"throttleAdd",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(0!==e.length||0!==t.length){if(this.timeline.length&&this.pointer>=0){var n=this.timeline[this.pointer],o=n.patches,i=n.inversePatches,a=n.timestamp;if((new Date).getTime()-a<r)return void(this.timeline[this.pointer]={timestamp:a,patches:[].concat(eC(o),eC(e)),inversePatches:[].concat(eC(t),eC(i))})}this.add(e,t)}}},{key:"merge",value:function(e,t){if(0!==e.length||0!==t.length){if(this.timeline.length&&this.pointer>=0){var r=this.timeline[this.pointer],n=r.inversePatches;this.timeline[this.pointer]={timestamp:r.timestamp,patches:[].concat(eC(r.patches),eC(e)),inversePatches:[].concat(eC(t),eC(n))}}else this.add(e,t)}}},{key:"clear",value:function(){this.timeline=[],this.pointer=-1}},{key:"canUndo",value:function(){return this.pointer>=0}},{key:"canRedo",value:function(){return this.pointer<this.timeline.length-1}},{key:"undo",value:function(e){if(this.canUndo()){var t=this.timeline[this.pointer].inversePatches;return this.pointer=this.pointer-1,er(e,t)}}},{key:"redo",value:function(e){if(this.canRedo())return this.pointer=this.pointer+1,er(e,this.timeline[this.pointer].patches)}}]),e}();function eH(e,t,r){var n=Object.keys(e()).reduce(function(r,n){return eE(eE({},r),{},eN({},n,function(){var r;return(r=e(t()))[n].apply(r,arguments)}))},{});return eE(eE({},n),{},{history:{canUndo:function(){return r.canUndo()},canRedo:function(){return r.canRedo()}}})}(function(){function e(e,t){function r(){this.constructor=e}u(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.R=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach(function(t){if(s(t)){var r=I(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)}))}function n(e){e.g&&i(3,JSON.stringify(h(e)))}var o,a,u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},l=function(){function r(e,t){return this[W]={i:2,l:t,A:t?t.A:z,P:!1,I:!1,o:void 0,R:void 0,t:e,k:this,C:!1,g:!1},this}e(r,Map);var o=r.prototype;return Object.defineProperty(o,"size",{get:function(){return h(this[W]).size}}),o.has=function(e){return h(this[W]).has(e)},o.set=function(e,r){var o=this[W];return n(o),h(o).has(e)&&h(o).get(e)===r||(t(o),C(o),o.R.set(e,!0),o.o.set(e,r),o.R.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var r=this[W];return n(r),t(r),C(r),r.t.has(e)?r.R.set(e,!1):r.R.delete(e),r.o.delete(e),!0},o.clear=function(){var e=this[W];n(e),h(e).size&&(t(e),C(e),e.R=new Map,c(e.t,function(t){e.R.set(t,!1)}),e.o.clear())},o.forEach=function(e,t){var r=this;h(this[W]).forEach(function(n,o){e.call(t,r.get(o),o,r)})},o.get=function(e){var r=this[W];n(r);var o=h(r).get(e);if(r.I||!s(o)||o!==r.t.get(e))return o;var i=I(r.A.h,o,r);return t(r),r.o.set(e,i),i},o.keys=function(){return h(this[W]).keys()},o.values=function(){var e,t=this,r=this.keys();return(e={})[G]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},o.entries=function(){var e,t=this,r=this.keys();return(e={})[G]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},o[G]=function(){return this.entries()},r}(),d=function(){function t(e,t){return this[W]={i:3,l:t,A:t?t.A:z,P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return h(this[W]).size}}),o.has=function(e){var t=this[W];return n(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},o.add=function(e){var t=this[W];return n(t),this.has(e)||(r(t),C(t),t.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[W];return n(t),r(t),C(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},o.clear=function(){var e=this[W];n(e),h(e).size&&(r(e),C(e),e.o.clear())},o.values=function(){var e=this[W];return n(e),r(e),e.o.values()},o.entries=function(){var e=this[W];return n(e),r(e),e.o.entries()},o.keys=function(){return this.values()},o[G]=function(){return this.values()},o.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();o="MapSet",a={F:function(e,t){return new l(e,t)},T:function(e,t){return new d(e,t)}},K[o]||(K[o]=a)})(),function(){var e,t;function r(e){if(!s(e))return e;if(Array.isArray(e))return e.map(r);if(p(e))return new Map(Array.from(e.entries()).map(function(e){return[e[0],r(e[1])]}));if(v(e))return new Set(Array.from(e).map(r));var t=Object.create(Object.getPrototypeOf(e));for(var n in e)t[n]=r(e[n]);return l(e,$)&&(t[$]=e[$]),t}function n(e){return a(e)?r(e):e}e="Patches",t={$:function(e,t){return t.forEach(function(t){for(var n=t.path,o=t.op,a=e,s=0;s<n.length-1;s++){var c=u(a),l=n[s];"string"!=typeof l&&"number"!=typeof l&&(l=""+l),0!==c&&1!==c||"__proto__"!==l&&"constructor"!==l||i(24),"function"==typeof a&&"prototype"===l&&i(24),"object"!=typeof(a=d(a,l))&&i(15,n.join("/"))}var f=u(a),p=r(t.value),v=n[n.length-1];switch(o){case"replace":switch(f){case 2:return a.set(v,p);case 3:i(16);default:return a[v]=p}case"add":switch(f){case 1:return"-"===v?a.push(p):a.splice(v,0,p);case 2:return a.set(v,p);case 3:return a.add(p);default:return a[v]=p}case"remove":switch(f){case 1:return a.splice(v,1);case 2:return a.delete(v);case 3:return a.delete(t.value);default:return delete a[v]}default:i(17,o)}}),e},N:function(e,t,r,o){var i,a,s,u,f;switch(e.i){case 0:case 4:case 2:return i=e.t,a=e.o,void c(e.R,function(e,s){var c=d(i,e),u=d(a,e),f=s?l(i,e)?"replace":"add":"remove";if(c!==u||"replace"!==f){var p=t.concat(e);r.push("remove"===f?{op:f,path:p}:{op:f,path:p,value:u}),o.push("add"===f?{op:"remove",path:p}:"remove"===f?{op:"add",path:p,value:n(c)}:{op:"replace",path:p,value:n(c)})}});case 5:case 1:return function(e,t,r,o){var i=e.t,a=e.R,s=e.o;if(s.length<i.length){var c=[s,i];i=c[0],s=c[1];var u=[o,r];r=u[0],o=u[1]}for(var l=0;l<i.length;l++)if(a[l]&&s[l]!==i[l]){var d=t.concat([l]);r.push({op:"replace",path:d,value:n(s[l])}),o.push({op:"replace",path:d,value:n(i[l])})}for(var f=i.length;f<s.length;f++){var p=t.concat([f]);r.push({op:"add",path:p,value:n(s[f])})}i.length<s.length&&o.push({op:"replace",path:t.concat(["length"]),value:i.length})}(e,t,r,o);case 3:return s=e.t,u=e.o,f=0,void(s.forEach(function(e){if(!u.has(e)){var n=t.concat([f]);r.push({op:"remove",path:n,value:e}),o.unshift({op:"add",path:n,value:e})}f++}),f=0,u.forEach(function(e){if(!s.has(e)){var n=t.concat([f]);r.push({op:"add",path:n,value:e}),o.unshift({op:"remove",path:n,value:e})}f++}))}},M:function(e,t,r,n){r.push({op:"replace",path:[],value:t===U?void 0:t}),n.push({op:"replace",path:[],value:e})}},K[e]||(K[e]=t)}();var eB,eU=function(){function e(t){ew(this,e),eN(this,"getState",void 0),eN(this,"subscribers",[]),this.getState=t}return e_(e,[{key:"subscribe",value:function(e,t,r){var n=this,o=new e$(function(){return e(n.getState())},t,r);return this.subscribers.push(o),this.unsubscribe.bind(this,o)}},{key:"unsubscribe",value:function(e){if(this.subscribers.length){var t=this.subscribers.indexOf(e);if(t>-1)return this.subscribers.splice(t,1)}}},{key:"notify",value:function(){this.subscribers.forEach(function(e){return e.collect()})}}]),e}(),e$=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ew(this,e),eN(this,"collected",void 0),eN(this,"collector",void 0),eN(this,"onChange",void 0),eN(this,"id",void 0),this.collector=t,this.onChange=r,n&&this.collect()}return e_(e,[{key:"collect",value:function(){try{var e=this.collector();eo()(e,this.collected)||(this.collected=e,this.onChange&&this.onChange(this.collected))}catch(e){console.warn(e)}}}]),e}(),eW=function(e){var t=e.getBoundingClientRect(),r=t.x,n=t.y,o=t.top,i=t.left,a=t.bottom,s=t.right,c=t.width,u=t.height,l=window.getComputedStyle(e),d={left:parseInt(l.marginLeft),right:parseInt(l.marginRight),bottom:parseInt(l.marginBottom),top:parseInt(l.marginTop)},f={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight),bottom:parseInt(l.paddingBottom),top:parseInt(l.paddingTop)};return{x:r,y:n,top:o,left:i,bottom:a,right:s,width:c,height:u,outerWidth:Math.round(c+d.left+d.right),outerHeight:Math.round(u+d.top+d.bottom),margin:d,padding:f,inFlow:e.parentElement&&!!function(t){var r=getComputedStyle(t);if(!(l.overflow&&"visible"!==l.overflow||"none"!==r.float||"grid"===r.display||"flex"===r.display&&"column"!==r["flex-direction"])){switch(l.position){case"static":case"relative":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(l.display){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}(e.parentElement)}},eG=function(){return ed(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)},eY=function(){function e(){ew(this,e),eN(this,"isEnabled",!0),eN(this,"elementIdMap",new WeakMap),eN(this,"registry",new Map)}return e_(e,[{key:"getElementId",value:function(e){var t=this.elementIdMap.get(e);if(t)return t;var r=eG();return this.elementIdMap.set(e,r),r}},{key:"getConnectorId",value:function(e,t){var r=this.getElementId(e);return"".concat(t,"--").concat(r)}},{key:"register",value:function(e,t){var r=this,n=this.getByElement(e,t.name);if(n){if(ec()(t.required,n.required))return n;this.getByElement(e,t.name).disable()}var o=null,i=this.getConnectorId(e,t.name);return this.registry.set(i,{id:i,required:t.required,enable:function(){o&&o(),o=t.connector(e,t.required,t.options)},disable:function(){o&&o()},remove:function(){return r.remove(i)}}),this.isEnabled&&this.registry.get(i).enable(),this.registry.get(i)}},{key:"get",value:function(e){return this.registry.get(e)}},{key:"remove",value:function(e){var t=this.get(e);t&&(t.disable(),this.registry.delete(t.id))}},{key:"enable",value:function(){this.isEnabled=!0,this.registry.forEach(function(e){e.enable()})}},{key:"disable",value:function(){this.isEnabled=!1,this.registry.forEach(function(e){e.disable()})}},{key:"getByElement",value:function(e,t){return this.get(this.getConnectorId(e,t))}},{key:"removeByElement",value:function(e,t){return this.remove(this.getConnectorId(e,t))}},{key:"clear",value:function(){this.disable(),this.elementIdMap=new WeakMap,this.registry=new Map}}]),e}();!function(e){e[e.HandlerDisabled=0]="HandlerDisabled",e[e.HandlerEnabled=1]="HandlerEnabled"}(eB||(eB={}));var eJ=function(){function e(t){ew(this,e),eN(this,"options",void 0),eN(this,"registry",new eY),eN(this,"subscribers",new Set),this.options=t}return e_(e,[{key:"listen",value:function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}}},{key:"disable",value:function(){this.onDisable&&this.onDisable(),this.registry.disable(),this.subscribers.forEach(function(e){e(eB.HandlerDisabled)})}},{key:"enable",value:function(){this.onEnable&&this.onEnable(),this.registry.enable(),this.subscribers.forEach(function(e){e(eB.HandlerEnabled)})}},{key:"cleanup",value:function(){this.disable(),this.subscribers.clear(),this.registry.clear()}},{key:"addCraftEventListener",value:function(e,t,r,n){var o=function(n){(function(e,t,r){e.craft||(e.craft={stopPropagation:function(){},blockedEvents:{}});for(var n=e.craft&&e.craft.blockedEvents[t]||[],o=0;o<n.length;o++){var i=n[o];if(r!==i&&r.contains(i))return!0}return!1})(n,t,e)||(n.craft.stopPropagation=function(){n.craft.blockedEvents[t]||(n.craft.blockedEvents[t]=[]),n.craft.blockedEvents[t].push(e)},r(n))};return e.addEventListener(t,o,n),function(){return e.removeEventListener(t,o,n)}}},{key:"createConnectorsUsage",value:function(){var e=this,t=this.handlers(),r=new Set,n=!1,o=new Map;return{connectors:Object.entries(t).reduce(function(t,i){var a=eT(i,2),s=a[0],c=a[1];return eE(eE({},t),{},eN({},s,function(t,i,a){var u=function(){var n=e.registry.register(t,{required:i,name:s,options:a,connector:c});return r.add(n.id),n};return o.set(e.registry.getConnectorId(t,s),u),n&&u(),t}))},{}),register:function(){n=!0,o.forEach(function(e){e()})},cleanup:function(){n=!1,r.forEach(function(t){return e.registry.remove(t)})}}}},{key:"derive",value:function(e,t){return new e(this,t)}},{key:"createProxyHandlers",value:function(e,t){var r=[],n=e.handlers();return t(new Proxy(n,{get:function(e,t,o){return t in n==0?Reflect.get(e,t,o):function(e){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=n[t].apply(n,[e].concat(i));s&&r.push(s)}}})),function(){r.forEach(function(e){e()})}}},{key:"reflect",value:function(e){return this.createProxyHandlers(this,e)}}]),e}(),eV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}(n,eJ);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eP(n);return e=t?Reflect.construct(r,arguments,eP(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eA(e)}(this,e)});function n(e,t){var o;return ew(this,n),eN(eA(o=r.call(this,t)),"derived",void 0),eN(eA(o),"unsubscribeParentHandlerListener",void 0),o.derived=e,o.options=t,o.unsubscribeParentHandlerListener=o.derived.listen(function(e){switch(e){case eB.HandlerEnabled:return o.enable();case eB.HandlerDisabled:return o.disable();default:return}}),o}return e_(n,[{key:"inherit",value:function(e){return this.createProxyHandlers(this.derived,e)}},{key:"cleanup",value:function(){ek(eP(n.prototype),"cleanup",this).call(this),this.unsubscribeParentHandlerListener()}}]),n}();function eK(e,t){t&&("function"==typeof e?e(t):e.current=t)}function eX(e){return Object.keys(e).reduce((t,r)=>{var n;return t[r]=(n=(...t)=>e[r](...t),(e=null,...t)=>{if(!(0,ei.isValidElement)(e)){if(!e)return;return e&&n(e,...t),e}return function(e){if("string"!=typeof e.type)throw Error()}(e),function(e,t){let r=e.ref;return ef("string"!=typeof r,"Cannot connect to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),(0,ei.cloneElement)(e,r?{ref:e=>{eK(r,e),eK(t,e)}}:{ref:t})}(e,n)}),t},{})}let eQ=({style:e,className:t,parentDom:r})=>{let n=ea().createElement("div",{className:t,style:{position:"fixed",display:"block",opacity:1,borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",zIndex:99999,...e}});return r&&r.ownerDocument!==document?ev().createPortal(n,r.ownerDocument.body):n};var eZ=function(e,t){var r="Deprecation warning: ".concat(e," will be deprecated in future relases."),n=t.suggest,o=t.doc;n&&(r+=" Please use ".concat(n," instead.")),o&&(r+="(".concat(o,")")),console.warn(r)},e0=function(){return"undefined"!=typeof window},e1=r(97386),e2=r.n(e1);r(77133),"undefined"!=typeof window&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/core"]="0.2.12");let e6=ea().createContext(null),e3=({id:e,related:t=!1,children:r})=>ea().createElement(e6.Provider,{value:{id:e,related:t}},r);function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(t){tt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e4(e){return(e4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e7(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function e5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tf(n.key),n)}}function te(e,t,r){return t&&e5(e.prototype,t),r&&e5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(e,t,r){return(t=tf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&to(e,t)}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){return(to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ti(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ta(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=tn(e);return r=t?Reflect.construct(n,arguments,tn(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ta(e)}(this,r)}}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||tl(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e){return function(e){if(Array.isArray(e))return td(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tl(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){if(e){if("string"==typeof e)return td(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?td(e,t):void 0}}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tf(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}let tp=(0,ei.createContext)(null);var tv=(0,ei.createContext)(null),th=function(){return(0,ei.useContext)(tv)};function ty(e){var t=th(),r=(0,ei.useContext)(tp);ef(r,"You can only use useEditor in the context of <Editor />. \n\nPlease only use useEditor in components that are children of the <Editor /> component.");var n=function(e,t){let{subscribe:r,getState:n,actions:o,query:i}=e,a=(0,ei.useRef)(!0),s=(0,ei.useRef)(null),c=(0,ei.useRef)(t);c.current=t;let u=(0,ei.useCallback)(e=>({...e,actions:o,query:i}),[o,i]);a.current&&t&&(s.current=t(n(),i),a.current=!1);let[l,d]=(0,ei.useState)(u(s.current));return(0,ei.useEffect)(()=>{let e;return c.current&&(e=r(e=>c.current(e,i),e=>{d(u(e))})),()=>{e&&e()}},[u,i,r]),l}(r,e),o=(0,ei.useMemo)(function(){return t&&t.createConnectorsUsage()},[t]);(0,ei.useEffect)(function(){return o.register(),function(){o.cleanup()}},[o]);var i=(0,ei.useMemo)(function(){return o&&eX(o.connectors)},[o]);return e9(e9({},n),{},{connectors:i,inContext:!!r,store:r})}var tg=["actions","query","connectors"];function tb(e){var t=(0,ei.useContext)(e6);ef(t,"You can only use useNode in the context of <Editor />. \n\nPlease only use useNode in components that are children of the <Editor /> component.");var r=t.id,n=t.related,o=ty(function(t){return r&&t.nodes[r]&&e&&e(t.nodes[r])}),i=o.actions,a=o.connectors,s=ti(o,tg),c=(0,ei.useMemo)(function(){return eX({connect:function(e){return a.connect(e,r)},drag:function(e){return a.drag(e,r)}})},[a,r]),u=(0,ei.useMemo)(function(){return{setProp:function(e,t){t?i.history.throttle(t).setProp(r,e):i.setProp(r,e)},setCustom:function(e,t){t?i.history.throttle(t).setCustom(r,e):i.setCustom(r,e)},setHidden:function(e){return i.setHidden(r,e)}}},[i,r]);return e9(e9({},s),{},{id:r,related:n,inNodeContext:!!t,actions:u,connectors:c})}var tm=["id","related","actions","inNodeContext","connectors"];function tO(e){var t=tb(e),r=t.id,n=t.related,o=t.actions,i=t.inNodeContext,a=t.connectors;return e9(e9({},ti(t,tm)),{},{actions:o,id:r,related:n,setProp:function(e,t){return eZ("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),o.setProp(e,t)},inNodeContext:i,connectors:a})}let tj=({render:e})=>{let{connectors:{connect:t,drag:r}}=tO();return"string"==typeof e.type?t(r(ea().cloneElement(e))):e},tE=()=>{let{type:e,props:t,nodes:r,hydrationTimestamp:n}=tb(e=>({type:e.data.type,props:e.data.props,nodes:e.data.nodes,hydrationTimestamp:e._hydrationTimestamp}));return(0,ei.useMemo)(()=>{let n=t.children;r&&r.length>0&&(n=ea().createElement(ea().Fragment,null,r.map(e=>ea().createElement(tx,{id:e,key:e}))));let o=ea().createElement(e,t,n);return"string"==typeof e?ea().createElement(tj,{render:o}):o},[e,t,n,r])},tw=({render:e})=>{let{hidden:t}=tb(e=>({hidden:e.data.hidden})),{onRender:r}=ty(e=>({onRender:e.options.onRender}));return t?null:ea().createElement(r,{render:e||ea().createElement(tE,null)})},tx=({id:e,render:t})=>ea().createElement(e3,{id:e},ea().createElement(tw,{render:t})),t_={is:"div",canvas:!1,custom:{},hidden:!1},tN={is:"type",canvas:"isCanvas"};function tP({id:e,children:t,...r}){let{is:n}={...t_,...r},{query:o,actions:i}=ty(),{id:a,inNodeContext:s}=tb(),[c]=(0,ei.useState)(()=>{ef(!!e,'A <Element /> that is used inside a User Component must specify an `id` prop, eg: <Element id="text_element">...</Element> ');let c=o.node(a).get();if(s){let s=c.data.linkedNodes[e]?o.node(c.data.linkedNodes[e]).get():null;if(s&&s.data.type===n)return s.id;let u=ea().createElement(tP,r,t),l=o.parseReactElement(u).toNodeTree();return i.history.ignore().addLinkedNodeFromTree(l,a,e),l.rootNodeId}return null});return c?ea().createElement(tx,{id:c}):null}let tS=()=>eZ("<Canvas />",{suggest:"<Element canvas={true} />"});function tA({...e}){return(0,ei.useEffect)(()=>tS(),[]),ea().createElement(tP,{...e,canvas:!0})}let tk=()=>{let{timestamp:e}=ty(e=>({timestamp:e.nodes[eh]&&e.nodes[eh]._hydrationTimestamp}));return e?ea().createElement(tx,{id:eh,key:e}):null},tT=({children:e,json:t,data:r})=>{let{actions:n,query:o}=ty();t&&eZ("<Frame json={...} />",{suggest:"<Frame data={...} />"});let i=(0,ei.useRef)(!1);if(!i.current){let a=r||t;if(a)n.history.ignore().deserialize(a);else if(e){let t=ea().Children.only(e),r=o.parseReactElement(t).toNodeTree((e,r)=>(r===t&&(e.id=eh),e));n.history.ignore().addNodeTree(r)}i.current=!0}return ea().createElement(tk,null)};!function(e){e[e.Any=0]="Any",e[e.Id=1]="Id",e[e.Obj=2]="Obj"}(M||(M={}));let tC=e=>{let{addLinkedNodeFromTree:t,setDOM:r,setNodeEvent:n,replaceNodes:o,reset:i,...a}=e;return a};function tR(e){let{connectors:t,actions:r,query:n,store:o,...i}=ty(e),a=tC(r);return{connectors:t,actions:(0,ei.useMemo)(()=>({...a,history:{...a.history,ignore:(...e)=>tC(a.history.ignore(...e)),throttle:(...e)=>tC(a.history.throttle(...e))}}),[a]),query:n,store:o,...i}}var tI=function(e){return Object.fromEntries?Object.fromEntries(e):e.reduce(function(e,t){var r=tc(t,2),n=r[0],o=r[1];return e9(e9({},e),{},tt({},n,o))},{})},tD=function(e,t,r){var n=Array.isArray(t)?t:[t],o=e9({existOnly:!1,idOnly:!1},r||{}),i=n.filter(function(e){return!!e}).map(function(t){return"string"==typeof t?{node:e[t],exists:!!e[t]}:"object"!==e4(t)||o.idOnly?{node:null,exists:!1}:{node:t,exists:!!e[t.id]}});return o.existOnly&&ef(0===i.filter(function(e){return!e.exists}).length,eg),i},tM=["history"],tL=null,tz=function(e,t){if("string"==typeof t)return t;var r,n=void 0!==(r=(function(e){if(tL&&tL.resolver===e)return tL.reversed;tL={resolver:e,reversed:new Map};for(var t=0,r=Object.entries(e);t<r.length;t++){var n=tc(r[t],2);tL.reversed.set(n[1],n[0])}return tL.reversed})(e).get(t))?r:null;return ef(n,eO.replace("%node_type%",t.name||t.displayName)),n};let tF=(e,t)=>"string"==typeof e?e:{resolvedName:tz(t,e)},tq=(e,t)=>{let{type:r,isCanvas:n,props:o}=e;return o=Object.keys(o).reduce((e,r)=>{let n=o[r];return null==n||"function"==typeof n||(e[r]="children"===r&&"string"!=typeof n?ei.Children.map(n,e=>"string"==typeof e?e:tq(e,t)):"function"==typeof n.type?tq(n,t):n),e},{}),{type:tF(r,t),isCanvas:!!n,props:o}},tH=(e,t)=>{let{type:r,props:n,isCanvas:o,name:i,...a}=e;return{...tq({type:r,isCanvas:o,props:n},t),...a}};function tB(e,t,r,n){for(var o={parent:e,index:0,where:"before"},i=0,a=0,s=0,c=0,u=0,l=0,d=0,f=t.length;d<f;d++){var p=t[d];if(l=p.top+p.outerHeight,c=p.left+p.outerWidth/2,u=p.top+p.outerHeight/2,!(a&&p.left>a||s&&u>=s||i&&p.left+p.outerWidth<i)){if(o.index=d,p.inFlow){if(n<u){o.where="before";break}o.where="after"}else n<l&&(s=l),r<c?(a=c,o.where="before"):(i=c,o.where="after")}}return o}var tU=function(e){return"string"==typeof e?e:e.name};function t$(e,t){var r=e.data.type,n={id:e.id||eG(),_hydrationTimestamp:Date.now(),data:e9({type:r,name:tU(r),displayName:tU(r),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},e.data),info:{},related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:function(){return!0},canDrop:function(){return!0},canMoveIn:function(){return!0},canMoveOut:function(){return!0}},dom:null};if(n.data.type===tP||n.data.type===tA){var o=e9(e9({},t_),n.data.props);n.data.props=Object.keys(n.data.props).reduce(function(e,t){return Object.keys(t_).includes(t)?n.data[tN[t]||t]=o[t]:e[t]=n.data.props[t],e},{}),n.data.name=tU(r=n.data.type),n.data.displayName=tU(r),n.data.type===tA&&(n.data.isCanvas=!0,tS())}t&&t(n);var i=r.craft;if(i){if(n.data.displayName=i.displayName||i.name||n.data.displayName,n.data.props=e9(e9({},i.props||i.defaultProps||{}),n.data.props),n.data.custom=e9(e9({},i.custom||{}),n.data.custom),null!=i.isCanvas&&(n.data.isCanvas=i.isCanvas),i.rules&&Object.keys(i.rules).forEach(function(e){["canDrag","canDrop","canMoveIn","canMoveOut"].includes(e)&&(n.rules[e]=i.rules[e])}),i.related){var a={id:n.id,related:!0};Object.keys(i.related).forEach(function(e){n.related[e]=function(t){return ea().createElement(e3,a,ea().createElement(i.related[e],t))}})}i.info&&(n.info=i.info)}return n}let tW=(e,t,r)=>{let{type:n,props:o}=e,i="object"==typeof n&&n.resolvedName?"Canvas"===n.resolvedName?tA:t[n.resolvedName]:"string"==typeof n?n:null;if(!i)return;o=Object.keys(o).reduce((e,r)=>{let n=o[r];return e[r]=null==n?null:"object"==typeof n&&n.resolvedName?tW(n,t):"children"===r&&Array.isArray(n)?n.map(e=>"string"==typeof e?e:tW(e,t)):n,e},{}),r&&(o.key=r);let a={...ea().createElement(i,{...o})};return{...a,name:tz(t,a.type)}},tG=(e,t)=>{let{type:r,props:n,...o}=e;ef(void 0!==r&&"string"==typeof r||void 0!==r&&void 0!==r.resolvedName,"An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />\n\nAvailable components in resolver: %availableComponents%\n\nMore info: https://craft.js.org/r/docs/api/editor#props".replace("%displayName%",e.displayName).replace("%availableComponents%",Object.keys(t).join(", ")));let{type:i,name:a,props:s}=tW(e,t),{parent:c,custom:u,displayName:l,isCanvas:d,nodes:f,hidden:p}=o;return{type:i,name:a,displayName:l||a,props:s,custom:u||{},isCanvas:!!d,hidden:!!p,parent:c,linkedNodes:o.linkedNodes||o._childCanvas||{},nodes:f||[]}},tY=(e,t)=>{if(t.length<1)return{[e.id]:e};let r=t.map(({rootNodeId:e})=>e),n={...e,data:{...e.data,nodes:r}};return t.reduce((t,r)=>{let n=r.nodes[r.rootNodeId];return{...t,...r.nodes,[n.id]:{...n,data:{...n.data,parent:e.id}}}},{[e.id]:n})},tJ=(e,t)=>({rootNodeId:e.id,nodes:tY(e,t)});var tV=function(e){tr(r,eJ);var t=ts(r);function r(){return e7(this,r),t.apply(this,arguments)}return te(r,[{key:"handlers",value:function(){return{connect:function(e,t){},select:function(e,t){},hover:function(e,t){},drag:function(e,t){},drop:function(e,t){},create:function(e,t,r){}}}}]),r}(),tK=(function(){tr(t,eV);var e=ts(t);function t(){return e7(this,t),e.apply(this,arguments)}te(t)}(),function(e){e.preventDefault()}),tX=function(){function e(t,r){e7(this,e),tt(this,"store",void 0),tt(this,"dragTarget",void 0),tt(this,"currentDropTargetId",void 0),tt(this,"currentDropTargetCanvasAncestorId",void 0),tt(this,"currentIndicator",null),tt(this,"currentTargetId",void 0),tt(this,"currentTargetChildDimensions",void 0),tt(this,"dragError",void 0),tt(this,"draggedNodes",void 0),tt(this,"onScrollListener",void 0),this.store=t,this.dragTarget=r,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0),window.addEventListener("dragover",tK,!1)}return te(e,[{key:"cleanup",value:function(){window.removeEventListener("scroll",this.onScrollListener,!0),window.removeEventListener("dragover",tK,!1)}},{key:"onScroll",value:function(e){var t=e.target,r=this.store.query.node(eh).get();t instanceof Element&&r&&r.dom&&t.contains(r.dom)&&(this.currentTargetChildDimensions=null)}},{key:"getDraggedNodes",value:function(){return tD(this.store.query.getNodes(),"new"===this.dragTarget.type?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}},{key:"validateDraggedNodes",value:function(){var e=this;"new"!==this.dragTarget.type&&this.draggedNodes.forEach(function(t){t.exists&&e.store.query.node(t.node.id).isDraggable(function(t){e.dragError=t})})}},{key:"isNearBorders",value:function(t,r,n){return t.top+e.BORDER_OFFSET>n||t.bottom-e.BORDER_OFFSET<n||t.left+e.BORDER_OFFSET>r||t.right-e.BORDER_OFFSET<r}},{key:"isDiff",value:function(e){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==e.parent.id||this.currentIndicator.placement.index!==e.index||this.currentIndicator.placement.where!==e.where}},{key:"getChildDimensions",value:function(e){var t=this,r=this.currentTargetChildDimensions;return this.currentTargetId===e.id&&r?r:e.data.nodes.reduce(function(e,r){var n=t.store.query.node(r).get().dom;return n&&e.push(e9({id:r},eW(n))),e},[])}},{key:"getCanvasAncestor",value:function(e){var t=this;if(e===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){var r=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(r)return r}return function e(r){var n=t.store.query.node(r).get();return n&&n.data.isCanvas?n:n.data.parent?e(n.data.parent):null}(e)}},{key:"computeIndicator",value:function(e,t,r){var n=this.getCanvasAncestor(e);if(n&&(this.currentDropTargetId=e,this.currentDropTargetCanvasAncestorId=n.id,n.data.parent&&this.isNearBorders(eW(n.dom),t,r)&&!this.store.query.node(n.id).isLinkedNode()&&(n=this.store.query.node(n.data.parent).get()),n)){this.currentTargetChildDimensions=this.getChildDimensions(n),this.currentTargetId=n.id;var o=tB(n,this.currentTargetChildDimensions,t,r);if(this.isDiff(o)){var i=this.dragError;i||this.store.query.node(n.id).isDroppable(this.draggedNodes.map(function(e){return e.node}),function(e){i=e});var a=n.data.nodes[o.index],s=a&&this.store.query.node(a).get();return this.currentIndicator={placement:e9(e9({},o),{},{currentNode:s}),error:i},this.currentIndicator}}}},{key:"getIndicator",value:function(){return this.currentIndicator}}]),e}();tt(tX,"BORDER_OFFSET",10);var tQ=function(e,t){if(1===t.length||arguments.length>2&&void 0!==arguments[2]&&arguments[2]){var r=t[0].getBoundingClientRect(),n=r.width,o=r.height,i=t[0].cloneNode(!0);return i.style.position="absolute",i.style.left="-100%",i.style.top="-100%",i.style.width="".concat(n,"px"),i.style.height="".concat(o,"px"),i.style.pointerEvents="none",i.classList.add("drag-shadow"),document.body.appendChild(i),e.dataTransfer.setDragImage(i,0,0),i}var a=document.createElement("div");return a.style.position="absolute",a.style.left="-100%",a.style.top="-100%",a.style.width="100%",a.style.height="100%",a.style.pointerEvents="none",a.classList.add("drag-shadow-container"),t.forEach(function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height,o=t.top,i=t.left,s=e.cloneNode(!0);s.style.position="absolute",s.style.left="".concat(i,"px"),s.style.top="".concat(o,"px"),s.style.width="".concat(r,"px"),s.style.height="".concat(n,"px"),s.classList.add("drag-shadow"),a.appendChild(s)}),document.body.appendChild(a),e.dataTransfer.setDragImage(a,e.clientX,e.clientY),a},tZ=function(e){tr(r,tV);var t=ts(r);function r(){var e;e7(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return tt(ta(e=t.call.apply(t,[this].concat(o))),"draggedElementShadow",void 0),tt(ta(e),"dragTarget",void 0),tt(ta(e),"positioner",null),tt(ta(e),"currentSelectedElementIds",[]),e}return te(r,[{key:"onDisable",value:function(){this.options.store.actions.clearEvents()}},{key:"handlers",value:function(){var e=this,t=this.options.store;return{connect:function(r,n){return t.actions.setDOM(n,r),e.reflect(function(e){e.select(r,n),e.hover(r,n),e.drop(r,n)})},select:function(r,n){var o=e.addCraftEventListener(r,"mousedown",function(r){r.craft.stopPropagation();var o=[];if(n){var i=t.query,a=i.getEvent("selected").all();(e.options.isMultiSelectEnabled(r)||a.includes(n))&&(o=a.filter(function(e){var t=i.node(e).descendants(!0),r=i.node(e).ancestors(!0);return!t.includes(n)&&!r.includes(n)})),o.includes(n)||o.push(n)}t.actions.setNodeEvent("selected",o)}),i=e.addCraftEventListener(r,"click",function(r){r.craft.stopPropagation();var o=t.query.getEvent("selected").all(),i=e.options.isMultiSelectEnabled(r),a=e.currentSelectedElementIds.includes(n),s=tu(o);i&&a?(s.splice(s.indexOf(n),1),t.actions.setNodeEvent("selected",s)):!i&&o.length>1&&t.actions.setNodeEvent("selected",s=[n]),e.currentSelectedElementIds=s});return function(){o(),i()}},hover:function(r,n){var o=e.addCraftEventListener(r,"mouseover",function(e){e.craft.stopPropagation(),t.actions.setNodeEvent("hovered",n)}),i=null;return e.options.removeHoverOnMouseleave&&(i=e.addCraftEventListener(r,"mouseleave",function(e){e.craft.stopPropagation(),t.actions.setNodeEvent("hovered",null)})),function(){o(),i&&i()}},drop:function(r,n){var o=e.addCraftEventListener(r,"dragover",function(r){if(r.craft.stopPropagation(),r.preventDefault(),e.positioner){var o=e.positioner.computeIndicator(n,r.clientX,r.clientY);o&&t.actions.setIndicator(o)}}),i=e.addCraftEventListener(r,"dragenter",function(e){e.craft.stopPropagation(),e.preventDefault()});return function(){i(),o()}},drag:function(n,o){if(!t.query.node(o).isDraggable())return function(){};n.setAttribute("draggable","true");var i=e.addCraftEventListener(n,"dragstart",function(n){n.craft.stopPropagation();var i=t.query,a=t.actions,s=i.getEvent("selected").all(),c=e.options.isMultiSelectEnabled(n);e.currentSelectedElementIds.includes(o)||(s=c?[].concat(tu(s),[o]):[o],t.actions.setNodeEvent("selected",s)),a.setNodeEvent("dragged",s);var u=s.map(function(e){return i.node(e).get().dom});e.draggedElementShadow=tQ(n,u,r.forceSingleDragShadow),e.dragTarget={type:"existing",nodes:s},e.positioner=new tX(e.options.store,e.dragTarget)}),a=e.addCraftEventListener(n,"dragend",function(r){r.craft.stopPropagation(),e.dropElement(function(e,r){"new"!==e.type&&t.actions.move(e.nodes,r.placement.parent.id,r.placement.index+("after"===r.placement.where?1:0))})});return function(){n.setAttribute("draggable","false"),i(),a()}},create:function(n,o,i){n.setAttribute("draggable","true");var a=e.addCraftEventListener(n,"dragstart",function(n){var i;if(n.craft.stopPropagation(),"function"==typeof o){var a=o();i=ea().isValidElement(a)?t.query.parseReactElement(a).toNodeTree():a}else i=t.query.parseReactElement(o).toNodeTree();e.draggedElementShadow=tQ(n,[n.currentTarget],r.forceSingleDragShadow),e.dragTarget={type:"new",tree:i},e.positioner=new tX(e.options.store,e.dragTarget)}),s=e.addCraftEventListener(n,"dragend",function(r){r.craft.stopPropagation(),e.dropElement(function(e,r){"existing"!==e.type&&(t.actions.addNodeTree(e.tree,r.placement.parent.id,r.placement.index+("after"===r.placement.where?1:0)),i&&e2()(i.onCreate)&&i.onCreate(e.tree))})});return function(){n.removeAttribute("draggable"),a(),s()}}}}},{key:"dropElement",value:function(e){var t=this.options.store;if(this.positioner){var r=this.draggedElementShadow,n=this.positioner.getIndicator();this.dragTarget&&n&&!n.error&&e(this.dragTarget,n),r&&(r.parentNode.removeChild(r),this.draggedElementShadow=null),this.dragTarget=null,t.actions.setIndicator(null),t.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}}]),r}();tt(tZ,"forceSingleDragShadow",e0()&&/Chrome/i.test(window.navigator.userAgent)&&e0()&&/Linux/i.test(window.navigator.userAgent));let t0=()=>{let{indicator:e,indicatorOptions:t,enabled:r}=ty(e=>({indicator:e.indicator,indicatorOptions:e.options.indicator,enabled:e.options.enabled})),n=th();return(0,ei.useEffect)(()=>{n&&(r?n.enable():n.disable())},[r,n]),e?ea().createElement(eQ,{className:t.className,style:{...function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=0,i=0,a=0,s=0,c=e.where;return r?r.inFlow?(a=r.outerWidth,s=n,o="before"===c?r.top:r.bottom,i=r.left):(a=n,s=r.outerHeight,o=r.top,i="before"===c?r.left:r.left+r.outerWidth):t&&(o=t.top+t.padding.top,i=t.left+t.padding.left,a=t.outerWidth-t.padding.right-t.padding.left-t.margin.left-t.margin.right,s=n),{top:"".concat(o,"px"),left:"".concat(i,"px"),width:"".concat(a,"px"),height:"".concat(s,"px")}}(e.placement,eW(e.placement.parent.dom),e.placement.currentNode&&eW(e.placement.currentNode.dom),t.thickness),backgroundColor:e.error?t.error:t.success,transition:t.transition||"0.2s ease-in",...t.style??{}},parentDom:e.placement.parent.dom}):null},t1=({children:e})=>{let t=(0,ei.useContext)(tp),r=(0,ei.useMemo)(()=>t.query.getOptions().handlers(t),[t]);return r?ea().createElement(tv.Provider,{value:r},ea().createElement(t0,null),e):null},t2={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:e})=>e,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},handlers:e=>new tZ({store:e,removeHoverOnMouseleave:!1,isMultiSelectEnabled:e=>!!e.metaKey}),normalizeNodes:()=>{}}},t6={methods:function(e,t){var r,n,o;return e9(e9({},(r=function(t,r,o){if(function r(n,o){var i=t.nodes[n];"string"!=typeof i.data.type&&ef(e.options.resolver[i.data.name],eO.replace("%node_type%","".concat(i.data.type.name))),e.nodes[n]=e9(e9({},i),{},{data:e9(e9({},i.data),{},{parent:o})}),i.data.nodes.length>0&&(delete e.nodes[n].data.props.children,i.data.nodes.forEach(function(e){return r(e,i.id)})),Object.values(i.data.linkedNodes).forEach(function(e){return r(e,i.id)})}(t.rootNodeId,r),r||t.rootNodeId!==eh){var i=n(r);if("child"!==o.type)i.data.linkedNodes[o.id]=t.rootNodeId;else{var a=o.index;null!=a?i.data.nodes.splice(a,0,t.rootNodeId):i.data.nodes.push(t.rootNodeId)}}},n=function(t){ef(t,"Parent id cannot be ommited");var r=e.nodes[t];return ef(r,eg),r},o=function t(r){var n=e.nodes[r],o=e.nodes[n.data.parent];if(n.data.nodes&&tu(n.data.nodes).forEach(function(e){return t(e)}),n.data.linkedNodes&&Object.values(n.data.linkedNodes).map(function(e){return t(e)}),o.data.nodes.includes(r)){var i=o.data.nodes;i.splice(i.indexOf(r),1)}else{var a=Object.keys(o.data.linkedNodes).find(function(e){return o.data.linkedNodes[e]===e});a&&delete o.data.linkedNodes[a]}(function(e,t){Object.keys(e.events).forEach(function(r){var n=e.events[r];n&&n.has&&n.has(t)&&(e.events[r]=new Set(Array.from(n).filter(function(e){return t!==e})))})})(e,r),delete e.nodes[r]},{addLinkedNodeFromTree:function(e,t,i){var a=n(t).data.linkedNodes[i];a&&o(a),r(e,t,{type:"linked",id:i})},add:function(e,t,n){var o=[e];Array.isArray(e)&&(eZ("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),o=e),o.forEach(function(e){r({nodes:tt({},e.id,e),rootNodeId:e.id},t,{type:"child",index:n})})},addNodeTree:function(e,t,n){r(e,t,{type:"child",index:n})},delete:function(r){tD(e.nodes,r,{existOnly:!0,idOnly:!0}).forEach(function(e){var r=e.node;ef(!t.node(r.id).isTopLevelNode(),"Attempting to delete a top-level Node"),o(r.id)})},deserialize:function(e){var r="string"==typeof e?JSON.parse(e):e,n=Object.keys(r).map(function(e){var n=e;return e===ey&&(n=eh),[n,t.parseSerializedNode(r[e]).toNode(function(e){return e.id=n})]});this.replaceNodes(tI(n))},move:function(r,n,o){var i=tD(e.nodes,r,{existOnly:!0}),a=e.nodes[n],s=new Set;i.forEach(function(r,i){var c=r.node,u=c.id,l=c.data.parent;t.node(n).isDroppable([u],function(e){throw Error(e)}),e.options.onBeforeMoveEnd(c,a,e.nodes[l]);var d=e.nodes[l].data.nodes;s.add(d);var f=d.indexOf(u);d[f]="$$",a.data.nodes.splice(o+i,0,u),e.nodes[u].data.parent=n}),s.forEach(function(e){var t=e.length;tu(e).reverse().forEach(function(r,n){"$$"===r&&e.splice(t-1-n,1)})})},replaceNodes:function(t){this.clearEvents(),e.nodes=t},clearEvents:function(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset:function(){this.clearEvents(),this.replaceNodes({})},setOptions:function(t){t(e.options)},setNodeEvent:function(t,r){if(e.events[t].forEach(function(r){e.nodes[r]&&(e.nodes[r].events[t]=!1)}),e.events[t]=new Set,r){var n=new Set(tD(e.nodes,r,{idOnly:!0,existOnly:!0}).map(function(e){return e.node.id}));n.forEach(function(r){e.nodes[r].events[t]=!0}),e.events[t]=n}},setCustom:function(t,r){tD(e.nodes,t,{idOnly:!0,existOnly:!0}).forEach(function(t){return r(e.nodes[t.node.id].data.custom)})},setDOM:function(t,r){e.nodes[t]&&(e.nodes[t].dom=r)},setIndicator:function(t){t&&(!t.placement.parent.dom||t.placement.currentNode&&!t.placement.currentNode.dom)||(e.indicator=t)},setHidden:function(t,r){e.nodes[t].data.hidden=r},setProp:function(t,r){tD(e.nodes,t,{idOnly:!0,existOnly:!0}).forEach(function(t){return r(e.nodes[t.node.id].data.props)})},selectNode:function(t){if(t){var r=tD(e.nodes,t,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",r.map(function(e){return e.node.id}))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}})),{},{setState:function(t){t(e,ti(this,tM))}})},ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:e=>{Object.keys(e.events).forEach(t=>{Array.from(e.events[t]||[]).forEach(r=>{e.nodes[r]||e.events[t].delete(r)})}),Object.keys(e.nodes).forEach(t=>{let r=e.nodes[t];Object.keys(r.events).forEach(t=>{r.events[t]&&e.events[t]&&!e.events[t].has(r.id)&&(r.events[t]=!1)})})}},t3=(e,t)=>(function(e,t,r,n){var o,i=(0,ei.useMemo)(function(){return new eq},[]),a=(0,ei.useRef)([]),s=(0,ei.useRef)(function(){});"function"==typeof e?o=e:(o=e.methods,a.current=e.ignoreHistoryForActions,s.current=e.normalizeHistory);var c=(0,ei.useRef)(n);c.current=n;var u=(0,ei.useRef)(t),l=(0,ei.useMemo)(function(){var e=s.current,t=a.current,n=c.current;return function(a,s){var c,u=r&&eH(r,function(){return a},i),l=eT(et(a,function(e){var t,r;switch(s.type){case eF.UNDO:return i.undo(e);case eF.REDO:return i.redo(e);case eF.CLEAR:return i.clear(),eE({},e);case eF.IGNORE:case eF.MERGE:case eF.THROTTLE:var n,a=eR(r=s.payload)||eI(r)||eD(r)||eL(),c=a[0],l=a.slice(1);(n=o(e,u))[c].apply(n,eC(l));break;default:(t=o(e,u))[s.type].apply(t,eC(s.payload))}}),3),d=l[0],f=l[1],p=l[2];return c=d,n&&n(d,a,{type:s.type,params:s.payload,patches:f},u,function(e){var t=et(d,e);c=t[0],f=[].concat(eC(f),eC(t[1])),p=[].concat(eC(t[2]),eC(p))}),[eF.UNDO,eF.REDO].includes(s.type)&&e&&(c=ee(c,e)),[].concat(eC(t),[eF.UNDO,eF.REDO,eF.IGNORE,eF.CLEAR]).includes(s.type)||(s.type===eF.THROTTLE?i.throttleAdd(f,p,s.config&&s.config.rate):s.type===eF.MERGE?i.merge(f,p):i.add(f,p)),c}},[i,o,r]),d=(0,ei.useCallback)(function(){return u.current},[]),f=(0,ei.useMemo)(function(){return new eU(d)},[d]),p=(0,ei.useCallback)(function(e){var t=l(u.current,e);u.current=t,f.notify()},[l,f]);(0,ei.useEffect)(function(){f.notify()},[f]);var v=(0,ei.useMemo)(function(){return r?eH(r,function(){return u.current},i):[]},[i,r]),h=(0,ei.useMemo)(function(){var e=Object.keys(o(null,null)),t=a.current;return eE(eE({},e.reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return p({type:t,payload:r})},e},{})),{},{history:{undo:function(){return p({type:eF.UNDO})},redo:function(){return p({type:eF.REDO})},clear:function(){return p({type:eF.CLEAR})},throttle:function(r){return eE({},e.filter(function(e){return!t.includes(e)}).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return p({type:eF.THROTTLE,payload:[t].concat(n),config:{rate:r}})},e},{}))},ignore:function(){return eE({},e.filter(function(e){return!t.includes(e)}).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return p({type:eF.IGNORE,payload:[t].concat(r)})},e},{}))},merge:function(){return eE({},e.filter(function(e){return!t.includes(e)}).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return p({type:eF.MERGE,payload:[t].concat(r)})},e},{}))}}})},[p,o]);return(0,ei.useMemo)(function(){return{getState:d,subscribe:function(e,t,r){return f.subscribe(e,t,r)},actions:h,query:v,history:i}},[h,v,f,d,i])})(t6,{...t2,options:{...t2.options,...e}},function e(t){let r=t&&t.options,n=()=>e(t);return{getDropPlaceholder:(e,r,o,i=e=>t.nodes[e.id].dom)=>{let a=t.nodes[r],s=n().node(a.id).isCanvas()?a:t.nodes[a.data.parent];if(!s)return;let c=s.data.nodes||[],u=tB(s,c?c.reduce((e,r)=>{let n=i(t.nodes[r]);if(n){let t={id:r,...eW(n)};e.push(t)}return e},[]):[],o.x,o.y),l=c.length&&t.nodes[c[u.index]],d={placement:{...u,currentNode:l},error:null};return tD(t.nodes,e).forEach(({node:e,exists:t})=>{t&&n().node(e.id).isDraggable(e=>d.error=e)}),n().node(s.id).isDroppable(e,e=>d.error=e),d},getOptions:()=>r,getNodes:()=>t.nodes,node:e=>(function e(t,r){ef("string"==typeof r,"Invalid parameter Node Id specified");var n=t.nodes[r],o=function(r){return e(t,r)};return{isCanvas:function(){return!!n.data.isCanvas},isRoot:function(){return n.id===eh},isLinkedNode:function(){return n.data.parent&&o(n.data.parent).linkedNodes().includes(n.id)},isTopLevelNode:function(){return this.isRoot()||this.isLinkedNode()},isDeletable:function(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:function(){return n.data.linkedNodes&&Object.keys(n.data.linkedNodes).length>0},isParentOfTopLevelCanvas:function(){return eZ("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:function(){return t.events.selected.has(r)},isHovered:function(){return t.events.hovered.has(r)},isDragged:function(){return t.events.dragged.has(r)},get:function(){return n},ancestors:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function r(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.nodes[n];return a&&(o.push(n),a.data.parent&&(e||!e&&0===i)&&(o=r(a.data.parent,o,i+1))),o}(n.data.parent)},descendants:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;return function r(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(e||!e&&0===s)&&t.nodes[i]&&("childNodes"!==n&&o(i).linkedNodes().forEach(function(e){a.push(e),a=r(e,a,s+1)}),"linkedNodes"!==n&&o(i).childNodes().forEach(function(e){a.push(e),a=r(e,a,s+1)})),a}(r)},linkedNodes:function(){return Object.values(n.data.linkedNodes||{})},childNodes:function(){return n.data.nodes||[]},isDraggable:function(r){try{return ef(!this.isTopLevelNode(),em),ef(e(t,n.data.parent).isCanvas(),eb),ef(n.rules.canDrag(n,o),"The node has specified a canDrag() rule that prevents it from being dragged"),!0}catch(e){return r&&r(e),!1}},isDroppable:function(e,r){var i=tD(t.nodes,e);try{ef(this.isCanvas(),"Cannot move node into a non-Canvas parent"),ef(n.rules.canMoveIn(i.map(function(e){return e.node}),n,o),"Target parent rejects incoming node");var a={};return i.forEach(function(e){var r=e.node,i=e.exists;if(ef(r.rules.canDrop(n,r,o),"Node cannot be dropped into target parent"),i){ef(!o(r.id).isTopLevelNode(),em);var s=o(r.id).descendants(!0);ef(!s.includes(n.id)&&n.id!==r.id,"Cannot move node into a descendant");var c=r.data.parent&&t.nodes[r.data.parent];ef(c.data.isCanvas,eb),ef(c||!c&&!t.nodes[r.id],"Attempting to add a node with duplicated id"),c.id!==n.id&&(a[c.id]||(a[c.id]=[]),a[c.id].push(r))}}),Object.keys(a).forEach(function(e){var r=t.nodes[e];ef(r.rules.canMoveOut(a[e],r,o),"Current parent rejects outgoing node")}),!0}catch(e){return r&&r(e),!1}},toSerializedNode:function(){return tH(n.data,t.options.resolver)},toNodeTree:function(e){var t=[r].concat(tu(this.descendants(!0,e))).reduce(function(e,t){return e[t]=o(t).get(),e},{});return{rootNodeId:r,nodes:t}},decendants:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eZ("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(e)},isTopLevelCanvas:function(){return!this.isRoot()&&!n.data.parent}}})(t,e),getSerializedNodes(){return tI(Object.keys(t.nodes).map(e=>[e,this.node(e).toSerializedNode()]))},getEvent:e=>{var r;return r=t.events[e],{contains:function(e){return r.has(e)},isEmpty:function(){return 0===this.all().length},first:function(){return this.all()[0]},last:function(){var e=this.all();return e[e.length-1]},all:function(){return Array.from(r)},size:function(){return this.all().length},at:function(e){return this.all()[e]},raw:function(){return r}}},serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:e=>({toNodeTree(r){var o;let i;let a=(o=(e,n)=>{let o=tz(t.options.resolver,e.data.type);e.data.displayName=e.data.displayName||o,e.data.name=o,r&&r(e,n)},"string"==typeof(i=e)&&(i=ea().createElement(ei.Fragment,{},i)),t$({data:{type:i.type,props:{...i.props}}},e=>{o&&o(e,i)})),s=[];return e.props&&e.props.children&&(s=ea().Children.toArray(e.props.children).reduce((e,t)=>(ea().isValidElement(t)&&e.push(n().parseReactElement(t).toNodeTree(r)),e),[])),tJ(a,s)}}),parseSerializedNode:e=>({toNode(r){let o=tG(e,t.options.resolver);ef(o.type,eO);let i="string"==typeof r&&r;return i&&eZ("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),n().parseFreshNode({...i?{id:i}:{},data:o}).toNode(!i&&r)}}),parseFreshNode:e=>({toNode:r=>t$(e,e=>{e.data.parent===ey&&(e.data.parent=eh);let n=tz(t.options.resolver,e.data.type);ef(null!==n,eO),e.data.displayName=e.data.displayName||n,e.data.name=n,r&&r(e)})}),createNode(e,t){eZ(`query.createNode(${e})`,{suggest:`query.parseReactElement(${e}).toNodeTree()`});let r=this.parseReactElement(e).toNodeTree(),n=r.nodes[r.rootNodeId];return t&&(t.id&&(n.id=t.id),t.data&&(n.data={...n.data,...t.data})),n},getState:()=>t}},t),t8=({children:e,...t})=>{void 0!==t.resolver&&ef("object"==typeof t.resolver&&!Array.isArray(t.resolver)&&null!==t.resolver,"Resolver in <Editor /> has to be an object. For (de)serialization Craft.js needs a list of all the User Components. \n    \nMore info: https://craft.js.org/r/docs/api/editor#props");let r=t3(ei.useRef(t).current,(e,t,r,n,o)=>{if(!r)return;let{patches:i,...a}=r;for(let r=0;r<i.length;r++){let{path:s}=i[r],c=s.length>2&&"nodes"===s[0]&&"data"===s[2];if([eF.IGNORE,eF.THROTTLE].includes(a.type)&&a.params&&(a.type=a.params[0]),["setState","deserialize"].includes(a.type)||c){o(r=>{e.options.normalizeNodes&&e.options.normalizeNodes(r,t,a,n)});break}}});return ei.useEffect(()=>{r&&void 0!==t.enabled&&r.query.getOptions().enabled!==t.enabled&&r.actions.setOptions(e=>{e.enabled=t.enabled})},[r,t.enabled]),ei.useEffect(()=>{r.subscribe(e=>({json:r.query.serialize()}),()=>{r.query.getOptions().onNodesChange(r.query)})},[r]),r?ei.createElement(tp.Provider,{value:r},ei.createElement(t1,null,e)):null}},5657:(e,t,r)=>{var n=r(62283)(r(99931),"DataView");e.exports=n},42744:(e,t,r)=>{var n=r(27621),o=r(95340),i=r(26448),a=r(58049),s=r(25523);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},40909:(e,t,r)=>{var n=r(71498),o=r(50526),i=r(77630),a=r(28843),s=r(60445);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},68216:(e,t,r)=>{var n=r(62283)(r(99931),"Map");e.exports=n},68727:(e,t,r)=>{var n=r(7803),o=r(36209),i=r(73757),a=r(30424),s=r(45744);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},81670:(e,t,r)=>{var n=r(62283)(r(99931),"Promise");e.exports=n},80089:(e,t,r)=>{var n=r(62283)(r(99931),"Set");e.exports=n},62137:(e,t,r)=>{var n=r(68727),o=r(68713),i=r(98960);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},72872:(e,t,r)=>{var n=r(40909),o=r(28216),i=r(13150),a=r(23059),s=r(27267),c=r(98294);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},95220:(e,t,r)=>{var n=r(99931).Symbol;e.exports=n},14445:(e,t,r)=>{var n=r(99931).Uint8Array;e.exports=n},27287:(e,t,r)=>{var n=r(62283)(r(99931),"WeakMap");e.exports=n},30786:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},93913:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},58332:(e,t,r)=>{var n=r(11936),o=r(6279),i=r(78586),a=r(72196),s=r(92716),c=r(74583),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),l=!r&&o(e),d=!r&&!l&&a(e),f=!r&&!l&&!d&&c(e),p=r||l||d||f,v=p?n(e.length,String):[],h=v.length;for(var y in e)(t||u.call(e,y))&&!(p&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,h)))&&v.push(y);return v}},41631:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},44702:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},89378:(e,t,r)=>{var n=r(73300),o=r(65067),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},36020:(e,t,r)=>{var n=r(65067);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}},91848:(e,t,r)=>{var n=r(5626),o=r(21776);e.exports=function(e,t){return e&&n(t,o(t),e)}},96174:(e,t,r)=>{var n=r(5626),o=r(83042);e.exports=function(e,t){return e&&n(t,o(t),e)}},73300:(e,t,r)=>{var n=r(51139);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},24890:(e,t,r)=>{var n=r(72872),o=r(30786),i=r(89378),a=r(91848),s=r(96174),c=r(56435),u=r(58458),l=r(49159),d=r(86270),f=r(30281),p=r(31753),v=r(46627),h=r(21258),y=r(88223),g=r(6511),b=r(78586),m=r(72196),O=r(26569),j=r(26131),E=r(74249),w=r(21776),x=r(83042),_="[object Arguments]",N="[object Function]",P="[object Object]",S={};S[_]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[P]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[N]=S["[object WeakMap]"]=!1,e.exports=function e(t,r,A,k,T,C){var R,I=1&r,D=2&r,M=4&r;if(A&&(R=T?A(t,k,T,C):A(t)),void 0!==R)return R;if(!j(t))return t;var L=b(t);if(L){if(R=h(t),!I)return u(t,R)}else{var z=v(t),F=z==N||"[object GeneratorFunction]"==z;if(m(t))return c(t,I);if(z==P||z==_||F&&!T){if(R=D||F?{}:g(t),!I)return D?d(t,s(R,t)):l(t,a(R,t))}else{if(!S[z])return T?t:{};R=y(t,z,I)}}C||(C=new n);var q=C.get(t);if(q)return q;C.set(t,R),E(t)?t.forEach(function(n){R.add(e(n,r,A,n,t,C))}):O(t)&&t.forEach(function(n,o){R.set(o,e(n,r,A,o,t,C))});var H=M?D?p:f:D?x:w,B=L?void 0:H(t);return o(B||t,function(n,o){B&&(n=t[o=n]),i(R,o,e(n,r,A,o,t,C))}),R}},80910:(e,t,r)=>{var n=r(26131),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},73882:(e,t,r)=>{var n=r(41631),o=r(78586);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},69950:(e,t,r)=>{var n=r(95220),o=r(20404),i=r(63122),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},56308:(e,t,r)=>{var n=r(69950),o=r(64002);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},59401:(e,t,r)=>{var n=r(31150),o=r(64002);e.exports=function e(t,r,i,a,s){return t===r||(null!=t&&null!=r&&(o(t)||o(r))?n(t,r,i,a,e,s):t!=t&&r!=r)}},31150:(e,t,r)=>{var n=r(72872),o=r(66040),i=r(23043),a=r(10463),s=r(46627),c=r(78586),u=r(72196),l=r(74583),d="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,h,y,g){var b=c(e),m=c(t),O=b?f:s(e),j=m?f:s(t);O=O==d?p:O,j=j==d?p:j;var E=O==p,w=j==p,x=O==j;if(x&&u(e)){if(!u(t))return!1;b=!0,E=!1}if(x&&!E)return g||(g=new n),b||l(e)?o(e,t,r,h,y,g):i(e,t,O,r,h,y,g);if(!(1&r)){var _=E&&v.call(e,"__wrapped__"),N=w&&v.call(t,"__wrapped__");if(_||N){var P=_?e.value():e,S=N?t.value():t;return g||(g=new n),y(P,S,r,h,g)}}return!!x&&(g||(g=new n),a(e,t,r,h,y,g))}},24879:(e,t,r)=>{var n=r(46627),o=r(64002);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},66112:(e,t,r)=>{var n=r(97386),o=r(65408),i=r(26131),a=r(18636),s=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.hasOwnProperty,d=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?d:s).test(a(e))}},20403:(e,t,r)=>{var n=r(46627),o=r(64002);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},45612:(e,t,r)=>{var n=r(69950),o=r(27811),i=r(64002),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},95702:(e,t,r)=>{var n=r(98397),o=r(68442),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3958:(e,t,r)=>{var n=r(26131),o=r(98397),i=r(33424),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||r.push(s);return r}},11936:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},58145:e=>{e.exports=function(e){return function(t){return e(t)}}},73875:e=>{e.exports=function(e,t){return e.has(t)}},92820:(e,t,r)=>{var n=r(14445);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},56435:(e,t,r)=>{e=r.nmd(e);var n=r(99931),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},2699:(e,t,r)=>{var n=r(92820);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},53362:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},6379:(e,t,r)=>{var n=r(95220),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},23794:(e,t,r)=>{var n=r(92820);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},58458:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},5626:(e,t,r)=>{var n=r(89378),o=r(73300);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),a?o(r,u,l):n(r,u,l)}return r}},49159:(e,t,r)=>{var n=r(5626),o=r(36146);e.exports=function(e,t){return n(e,o(e),t)}},86270:(e,t,r)=>{var n=r(5626),o=r(16096);e.exports=function(e,t){return n(e,o(e),t)}},18206:(e,t,r)=>{var n=r(99931)["__core-js_shared__"];e.exports=n},51139:(e,t,r)=>{var n=r(62283),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},66040:(e,t,r)=>{var n=r(62137),o=r(44702),i=r(73875);e.exports=function(e,t,r,a,s,c){var u=1&r,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var v=-1,h=!0,y=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++v<l;){var g=e[v],b=t[v];if(a)var m=u?a(b,g,v,t,e,c):a(g,b,v,e,t,c);if(void 0!==m){if(m)continue;h=!1;break}if(y){if(!o(t,function(e,t){if(!i(y,t)&&(g===e||s(g,e,r,a,c)))return y.push(t)})){h=!1;break}}else if(!(g===b||s(g,b,r,a,c))){h=!1;break}}return c.delete(e),c.delete(t),h}},23043:(e,t,r)=>{var n=r(95220),o=r(14445),i=r(65067),a=r(66040),s=r(89307),c=r(42755),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new o(e),new o(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var v=1&n;if(p||(p=c),e.size!=t.size&&!v)break;var h=f.get(e);if(h)return h==t;n|=2,f.set(e,t);var y=a(p(e),p(t),n,u,d,f);return f.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},10463:(e,t,r)=>{var n=r(30281),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var c=1&r,u=n(e),l=u.length;if(l!=n(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var h=!0;s.set(e,t),s.set(t,e);for(var y=c;++d<l;){var g=e[f=u[d]],b=t[f];if(i)var m=c?i(b,g,f,t,e,s):i(g,b,f,e,t,s);if(!(void 0===m?g===b||a(g,b,r,i,s):m)){h=!1;break}y||(y="constructor"==f)}if(h&&!y){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof j&&j instanceof j)&&(h=!1)}return s.delete(e),s.delete(t),h}},62688:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},30281:(e,t,r)=>{var n=r(73882),o=r(36146),i=r(21776);e.exports=function(e){return n(e,i,o)}},31753:(e,t,r)=>{var n=r(73882),o=r(16096),i=r(83042);e.exports=function(e){return n(e,i,o)}},23688:(e,t,r)=>{var n=r(74842);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},62283:(e,t,r)=>{var n=r(66112),o=r(77322);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},28412:(e,t,r)=>{var n=r(79654)(Object.getPrototypeOf,Object);e.exports=n},20404:(e,t,r)=>{var n=r(95220),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},36146:(e,t,r)=>{var n=r(93913),o=r(88480),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:n(a(e=Object(e)),function(t){return i.call(e,t)})}:o;e.exports=s},16096:(e,t,r)=>{var n=r(41631),o=r(28412),i=r(36146),a=r(88480),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=s},46627:(e,t,r)=>{var n=r(5657),o=r(68216),i=r(81670),a=r(80089),s=r(27287),c=r(69950),u=r(18636),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",h=u(n),y=u(o),g=u(i),b=u(a),m=u(s),O=c;(n&&O(new n(new ArrayBuffer(1)))!=v||o&&O(new o)!=l||i&&O(i.resolve())!=d||a&&O(new a)!=f||s&&O(new s)!=p)&&(O=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case h:return v;case y:return l;case g:return d;case b:return f;case m:return p}return t}),e.exports=O},77322:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},27621:(e,t,r)=>{var n=r(33866);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},95340:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},26448:(e,t,r)=>{var n=r(33866),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},58049:(e,t,r)=>{var n=r(33866),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},25523:(e,t,r)=>{var n=r(33866);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},21258:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},88223:(e,t,r)=>{var n=r(92820),o=r(2699),i=r(53362),a=r(6379),s=r(23794);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},6511:(e,t,r)=>{var n=r(80910),o=r(28412),i=r(98397);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},92716:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},74842:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},65408:(e,t,r)=>{var n=r(18206),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},98397:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},71498:e=>{e.exports=function(){this.__data__=[],this.size=0}},50526:(e,t,r)=>{var n=r(36020),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},77630:(e,t,r)=>{var n=r(36020);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},28843:(e,t,r)=>{var n=r(36020);e.exports=function(e){return n(this.__data__,e)>-1}},60445:(e,t,r)=>{var n=r(36020);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},7803:(e,t,r)=>{var n=r(42744),o=r(40909),i=r(68216);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},36209:(e,t,r)=>{var n=r(23688);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},73757:(e,t,r)=>{var n=r(23688);e.exports=function(e){return n(this,e).get(e)}},30424:(e,t,r)=>{var n=r(23688);e.exports=function(e){return n(this,e).has(e)}},45744:(e,t,r)=>{var n=r(23688);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},89307:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},33866:(e,t,r)=>{var n=r(62283)(Object,"create");e.exports=n},68442:(e,t,r)=>{var n=r(79654)(Object.keys,Object);e.exports=n},33424:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},43431:(e,t,r)=>{e=r.nmd(e);var n=r(62688),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},63122:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},79654:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},99931:(e,t,r)=>{var n=r(62688),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},68713:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},98960:e=>{e.exports=function(e){return this.__data__.has(e)}},42755:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},28216:(e,t,r)=>{var n=r(40909);e.exports=function(){this.__data__=new n,this.size=0}},13150:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},23059:e=>{e.exports=function(e){return this.__data__.get(e)}},27267:e=>{e.exports=function(e){return this.__data__.has(e)}},98294:(e,t,r)=>{var n=r(40909),o=r(68216),i=r(68727);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},18636:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},77133:(e,t,r)=>{var n=r(24890);e.exports=function(e){return n(e,5)}},65067:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6279:(e,t,r)=>{var n=r(56308),o=r(64002),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},78586:e=>{var t=Array.isArray;e.exports=t},62409:(e,t,r)=>{var n=r(97386),o=r(27811);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},72196:(e,t,r)=>{e=r.nmd(e);var n=r(99931),o=r(90590),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,c=s?s.isBuffer:void 0;e.exports=c||o},59984:(e,t,r)=>{var n=r(59401);e.exports=function(e,t,r){var o=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===o?n(e,t,void 0,r):!!o}},97386:(e,t,r)=>{var n=r(69950),o=r(26131);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},27811:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},26569:(e,t,r)=>{var n=r(24879),o=r(58145),i=r(43431),a=i&&i.isMap,s=a?o(a):n;e.exports=s},26131:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},64002:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},74249:(e,t,r)=>{var n=r(20403),o=r(58145),i=r(43431),a=i&&i.isSet,s=a?o(a):n;e.exports=s},74583:(e,t,r)=>{var n=r(45612),o=r(58145),i=r(43431),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},21776:(e,t,r)=>{var n=r(58332),o=r(95702),i=r(62409);e.exports=function(e){return i(e)?n(e):o(e)}},83042:(e,t,r)=>{var n=r(58332),o=r(3958),i=r(62409);e.exports=function(e){return i(e)?n(e,!0):o(e)}},88480:e=>{e.exports=function(){return[]}},90590:e=>{e.exports=function(){return!1}},43128:e=>{e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(o=r?r.call(n,l,d,u):void 0)||void 0===o&&l!==d)return!1}return!0}}};